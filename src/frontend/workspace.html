<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prenota Workspace - CoWorkSpace</title>
    <link rel="stylesheet" href="styles/workspace.css">
    <link rel="stylesheet" href="styles/workspace-header.css">
    <link rel="stylesheet" href="styles/calendar.css">
    <link rel="stylesheet" href="styles/background.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    
</head>
<body>

    <div class="header">
        <div class="middle-section">
            <div class="logo">CoWorkSpace</div>
        </div>
    </div>

    <div class="workspace-container">
        <!-- Sezione sinistra: Informazioni della Location -->
        <div class="location-info-section">
            <div class="location-card-detail">
                <div class="location-header">
                    <h1 class="location-name" id="location-name">Workspace Moderno</h1>
                    <div class="location-meta">
                        <p class="location-city" id="location-city">Milano</p>
                        <p class="location-address" id="location-address">Via Roma 10</p>
                    </div>
                </div>
                
                <div class="location-description">
                    <h3>Descrizione</h3>
                    <p id="location-description">Sede moderna nel cuore di Milano, comoda ai trasporti.</p>
                </div>
                
                <div class="location-spaces">
                    <h3>Spazi Disponibili</h3>
                    <div id="space-types-list" class="space-types-grid">
                        <!-- I tipi di spazio verranno inseriti qui dinamicamente -->
                    </div>
                </div>
                
                <div class="location-manager">
                    <h3>Manager</h3>
                    <p id="manager-info">Manager Name</p>
                </div>
                
                <div class="back-button-container">
                    <button id="back-to-home" class="back-button">← Torna alla Home</button>
                </div>
            </div>
        </div>

        <!-- Sezione destra: Prenotazione (esistente) -->
        <div class="booking-section-container">
            <div class="workspace-card">
                <div class="workspace-title-block">
                    <h2 class="workspace-title">Prenota Spazio</h2>
                </div>

                <div class="booking-section">
                    <form id="booking-form" class="form-fields">
                        <div class="form-group">
                            <label for="space-select">Spazio:</label>
                            <select id="space-select" name="space" class="space-select" required>
                                <option value="">Seleziona uno spazio</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="date-start">Data di inizio:</label>
                            <input type="text" id="date-start" name="date-start" class="date-bar" required readonly>
                            <span id="date-start-error" class="field-error" style="display:none;"></span>
                        </div>

                        <div class="form-group">
                            <label for="date-end">Data di fine:</label>
                            <input type="text" id="date-end" name="date-end" class="date-bar" required readonly>
                            <span id="date-end-error" class="field-error" style="display:none;"></span>
                        </div>

                        <div class="form-group">
                            <label for="price">Prezzo Totale (€):</label>
                            <input type="number" id="price" name="price" class="price-bar" readonly disabled placeholder="0">
                        </div>
                        
                        <button type="submit" class="booking-button">Prenota e Paga</button>
                    </form>
                    
                    <div class="calendar" id="custom-calendar">
                        <div class="calendar-instruction">
                            <p id="calendar-instruction-text">Clicca su una data per selezionare l'inizio del periodo</p>
                        </div>
                        <header class="calendar__header">
                            <select class="calendar__month" id="calendar-month"></select>
                            <select class="calendar__year" id="calendar-year"></select>
                        </header>
                        <div class="calendar__grid">
                            <div class="calendar__day-names">
                                <span class="calendar__day-name">L</span>
                                <span class="calendar__day-name">M</span>
                                <span class="calendar__day-name">M</span>
                                <span class="calendar__day-name">G</span>
                                <span class="calendar__day-name">V</span>
                                <span class="calendar__day-name">S</span>
                                <span class="calendar__day-name">D</span>
                            </div>
                            <div class="calendar__day-numbers" id="calendar-day-numbers">
                                <!-- I giorni del calendario verranno inseriti qui dal JS -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="payment-section" class="payment-section">
                    <h3 class="payment-title">Riepilogo e Pagamento</h3>
                    
                    <div class="booking-summary">
                        <div class="summary-section">
                            <h4>Dati Utente</h4>
                            <p><strong>Nome:</strong> <span id="summary-user-name">-</span></p>
                            <p><strong>Email:</strong> <span id="summary-user-email">-</span></p>
                        </div>
                        
                        <div class="summary-section">
                            <h4>Location</h4>
                            <p><strong>Nome:</strong> <span id="summary-location-name">-</span></p>
                            <p><strong>Indirizzo:</strong> <span id="summary-location-address">-</span></p>
                        </div>
                        
                        <div class="summary-section">
                            <h4>Spazio Selezionato</h4>
                            <p><strong>Spazio:</strong> <span id="summary-space-name">-</span></p>
                            <p><strong>Tipo:</strong> <span id="summary-space-type">-</span></p>
                            <p><strong>Orari:</strong> <span id="summary-space-hours">-</span></p>
                        </div>
                        
                        <div class="summary-section">
                            <h4>Periodo Prenotazione</h4>
                            <p><strong>Data Inizio:</strong> <span id="summary-date-start">-</span></p>
                            <p><strong>Data Fine:</strong> <span id="summary-date-end">-</span></p>
                            <p><strong>Numero Giorni:</strong> <span id="summary-total-days">-</span></p>
                            <p><strong>Ore Totali:</strong> <span id="summary-total-hours">-</span></p>
                        </div>
                        
                        <div class="summary-total">
                            <p class="payment-total"><strong>Totale da Pagare: €<span id="total-price">0</span></strong></p>
                        </div>
                    </div>
                    
                    <button id="pay-button" class="pay-button">Paga ora</button>
                </div>
                
                <div id="booking-message"></div>
            </div>
        </div>
    </div>
    
    <script src="js/apiService.js"></script>
    <script src="js/authService.js"></script>
    <script src="js/calendar.js"></script>   
    <script src="js/workspace.js"></script> 
</body>
</html>
